<?php
 use Tygh\Registry; use Tygh\Addons\SdLabels\Repositories\LabelRepository; include_once(Registry::get('config.dir.addons') . 'sd_labels/schemas/exim/products.functions.php'); $label_repository = Tygh::$app['addons.sd_labels.label_repository']; $labels_collection = $label_repository->getLabelCollection()->getAttachable(); foreach ($labels_collection->toArray() as $label) { $schema['export_fields'][__('sd_labels') . ": {$label['name']}"] = [ 'process_get' => ['fn_sd_labels_exim_get_product_label', '#key', $label['label_id']], 'process_put' => ['fn_sd_labels_exim_set_product_label', '#key', $label['label_id'], '#this'], 'linked' => false, ]; } return $schema; 