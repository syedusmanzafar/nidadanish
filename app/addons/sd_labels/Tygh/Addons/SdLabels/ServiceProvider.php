<?php
 declare(strict_types=1); namespace Tygh\Addons\SdLabels; use Pimple\Container; use Pimple\ServiceProviderInterface; use Tygh; use Tygh\Addons\SdLabels\Repositories\ProductLabelsRepository; use Tygh\Registry; use Tygh\Addons\SdLabels\Repositories\LabelImgRepository; use Tygh\Addons\SdLabels\Repositories\LabelRepository; class ServiceProvider implements ServiceProviderInterface { public function register(Container $app) { $app['addons.sd_labels.label_repository'] = function (Container $app) { return new LabelRepository( $app['db'], new LabelImgRepository(DESCR_SL), DESCR_SL ); }; $app['addons.sd_labels.product_labels'] = function (Container $app) { return new ProductLabelsRepository( $app['db'] ); }; $app['addons.sd_labels.cron_manager'] = function (Container $app) { return new CronManager( $app['db'], Registry::get('addons.sd_labels'), $app['addons.sd_labels.product_labels'], $app['addons.sd_labels.label_repository'] ); }; } } 